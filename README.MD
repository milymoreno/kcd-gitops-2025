# Taller Pr√°ctico KCD Colombia 2025: CI/CD con Tekton y ArgoCD

## üéØ T√≠tulo

**CI/CD en acci√≥n: Automatiza todo con Tekton y ArgoCD desde cero**

---

## üß© Resumen

En este taller intensivo y 100% pr√°ctico, los participantes aprender√°n a construir un pipeline CI/CD completamente declarativo desde cero, utilizando **Tekton** y **ArgoCD** sobre un cl√∫ster **K3s on-premise**. Este enfoque est√° dise√±ado para entornos reales en empresas que requieren **autonom√≠a, seguridad y control completo** sobre su infraestructura CI/CD. 

El taller utilizar√° GitHub como repositorio fuente y demostrar√° una integraci√≥n real de GitOps desde PR hasta despliegue.

---

## üõ†Ô∏è Paso a paso para dummies

### 1. Preparaci√≥n del entorno

- Servidor f√≠sico con **Ubuntu 22.04 o superior**
- Acceso root (`sudo`) y conexi√≥n estable a internet
- Instalar: `Docker`, `kubectl`, `helm`, `git`
- Clonar el repositorio:  
  `https://github.com/milymoreno/creating-cicd-pipelines-with-tekton-2`

---

### 2. Instalaci√≥n de Kubernetes con K3s

```bash
curl -sfL https://get.k3s.io | sh -
export KUBECONFIG=/etc/rancher/k3s/k3s.yaml
```

---

### 3. Instalaci√≥n de Tekton, ArgoCD y SonarQube

**Tekton:**
```bash
kubectl apply -f https://storage.googleapis.com/tekton-releases/pipeline/latest/release.yaml
kubectl apply -f https://storage.googleapis.com/tekton-releases/triggers/latest/release.yaml
```

**ArgoCD:**
```bash
kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
```

**SonarQube (para an√°lisis de calidad):**
```bash
kubectl create namespace sonarqube
helm repo add sonarqube https://SonarSource.github.io/helm-chart-sonarqube
helm install sonarqube sonarqube/sonarqube --namespace sonarqube
```

---

### 4. Crear Tasks

Se incluyen **6 Tasks empresariales**:
- `git-clone` - Clona repositorio Git
- `maven-build-java-artifact-from-source` - Compila con Maven
- `junit-test` - Ejecuta pruebas unitarias JUnit
- `sonarqube-analysis` - An√°lisis de calidad de c√≥digo
- `build-image` - Construye im√°genes Docker con Kaniko
- `deploy-artifact-to-ibm-cloud-functions` - Despliega a Kubernetes

**üÜï Pipeline CI/CD Completo**: Desde c√≥digo fuente hasta despliegue con calidad garantizada

---

### 5. Crear Pipeline y PipelineRun

Declaraci√≥n de recursos para la ejecuci√≥n del pipeline y despliegue con Tekton

---

### 6. A√±adir TriggerTemplate y TriggerBinding

Configuraci√≥n de triggers por Pull Request con GitHub o Azure Repos

---

### 7. Configurar GitOps con ArgoCD

```bash
kubectl port-forward svc/argocd-server -n argocd 8080:443
```

- Ingresar a http://localhost:8080
- Registrar repositorio Git
- Crear aplicaci√≥n apuntando a manifiestos versionados
- Activar sincronizaci√≥n autom√°tica

---

### 8. Pruebas y demostraci√≥n

- Realizar PR y observar ejecuci√≥n del pipeline
- Validar despliegue en Kubernetes
- Introducir error y hacer rollback con ArgoCD

---

## üìÇ Repositorio base

https://github.com/milymoreno/creating-cicd-pipelines-with-tekton-2

---

## üéØ Resultados esperados

- **Cl√∫ster K3s funcional** con todas las herramientas
- **Pipeline CI/CD empresarial** con Tekton (6 tasks completas)
- **An√°lisis de calidad** autom√°tico con SonarQube
- **Construcci√≥n de im√°genes** sin Docker daemon (Kaniko)
- **GitOps completo** con rollback usando ArgoCD
- **Aplicaci√≥n Java desplegada** desde PR con calidad garantizada

**üèÜ Pipeline de nivel empresarial listo para producci√≥n**
