# Runbook KCD – Kubernetes CI/CD (K3s + Tekton + ArgoCD + SonarQube) ✅

> **Nota:** K3s es la opción principal por ligereza y rapidez. Minikube queda como alternativa opcional.

---

## 1) Crear clúster local con K3s
```bash
# Instalar K3s
curl -sfL https://get.k3s.io | sh -

# Usar kubeconfig de K3s
export KUBECONFIG=/etc/rancher/k3s/k3s.yaml

# Verifica contexto
kubectl config current-context
kubectl get nodes


## 2) (Opcional) Crear clúster local con Minikube

minikube start -p kcd --driver=docker --cpus=2 --memory=4096 --disk-size=20g --wait=all
kubectl get nodes --context kcd
kubectl config use-context kcd
kubectl config current-context   # debe decir: kcd

## 3) Instalar Tekton (Pipelines + Triggers)

# Pipelines
kubectl apply -f https://storage.googleapis.com/tekton-releases/pipeline/latest/release.yaml
kubectl wait --for=condition=Ready pod --all -n tekton-pipelines --timeout=300s

# Triggers
kubectl apply -f https://storage.googleapis.com/tekton-releases/triggers/latest/release.yaml
kubectl wait --for=condition=Ready pod --all -n tekton-pipelines --timeout=300s


## 4) (Opcional) Crear clúster local con Minikube

## 5) (Opcional) Crear clúster local con Minikube

## 6) (Opcional) Crear clúster local con Minikube

## 7) (Opcional) Crear clúster local con Minikube

## 9) (Opcional) Crear clúster local con Minikube

## 10) (Opcional) Crear clúster local con Minikube

## 11) (Opcional) Crear clúster local con Minikube